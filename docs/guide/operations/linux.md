# Linux

## linux å¸¸ç”¨å‘½ä»¤

- shutdown(-h å…³æœºï¼Œ-r é‡å¯)--shutdown -h now
- su ( åˆ‡æ¢ç”¨æˆ·) -- su - root (ä¸ºå®‰å…¨èµ·è§è¾“å…¥å¯†ç æ—¶ä¸å›æ˜¾)
- exit
- clear (æ¸…å±)
- history (æŸ¥çœ‹å‘½ä»¤å†å²è®°å½•)
- ls        (åˆ—å‡ºæ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶)
- tree
- mkdir     (åˆ›å»ºç›®å½•)
- rm        (åˆ é™¤æ–‡ä»¶/ç›®å½•)
- pwd       (å½“å‰ç›®å½•)
- cd        (åˆ‡æ¢ç›®å½•)
- mv (ç§»åŠ¨)
- cp (å¤åˆ¶ç›®å½•/æ–‡ä»¶)
- touch (åˆ›å»ºç©ºæ–‡ä»¶)
- vim/vi (ä¿®æ”¹æ–‡ä»¶,yy å¤åˆ¶,dd å‰ªåˆ‡,p ç²˜è´´,u æ’¤é”€)--Esc é€€å‡ºç¼–è¾‘å":wq"ä¿å­˜å†…å®¹
- gedit (æ–‡ä»¶ç¼–è¯‘å™¨)
- head, tail
- cat/more/less (æŸ¥çœ‹æ–‡ä»¶)
- wc -l ç»Ÿè®¡æ–‡ä»¶è¡Œæ•°
- find (æŸ¥æ‰¾æ–‡ä»¶)
- grep
- ll (æŸ¥çœ‹ç›®å½•/æ–‡ä»¶æƒé™ä¿¡æ¯)
- chomd (ä¿®æ”¹æƒé™: u ç”¨æˆ·ï¼Œg åŒç»„æˆå‘˜, o å…¶ä»–æˆå‘˜ï¼Œr å¯è¯» w å¯å†™ x å¯æ‰§è¡Œ) - chmod u=rwx, g=r, o=r test.txt
- ifconfig
- topï¼š cpu å ç”¨
- free (å†…å­˜)
- du (ç£ç›˜)
- df (æ–‡ä»¶ç£ç›˜)
- vmstat (è™šæ‹Ÿå†…å­˜ç»Ÿè®¡)
- iostat
- chkconfig iptables off (å…³é—­é˜²ç«å¢™)
- uptime
- ping (ç½‘ç»œ)
- netstat (ç«¯å£)--netstat -an
- nslookup
- ps (æŸ¥çœ‹è¿›ç¨‹) -- ps -ef
- kill
- tar -zxvf
- date (æ—¥æœŸ) --- date '+%Y/%m/%d'
- cal  (æ—¥å†)-----cal -y 2021
- id (æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯)
- who/whoami/users (æŸ¥çœ‹å½“å‰ç”¨æˆ·å)
- passwd (ä¿®æ”¹å¯†ç )
- echo (è¾“å‡ºå‘½ä»¤)/printf
- dig (åŸŸåè§£æ)
- bc (è®¡ç®—å™¨)
- uname -a (ç³»ç»Ÿä¿¡æ¯)
- curl (ç½‘ç»œæ–‡ä»¶ä¸‹è½½)
- & | >  >>


### linux Commands



#### ç›®å½•

```
åˆ—ä¸¾ï¼šls
åˆ‡æ¢ï¼šcd
æŸ¥çœ‹ï¼špwd
æ ‘åˆ—ï¼štree

å¢ï¼šmkdir
åˆ ï¼šrm
æŸ¥ï¼šfind
æ”¹ï¼šmvã€cp
```

æ–‡ä»¶

```
å¢ï¼štouch
åˆ ï¼šrm
æŸ¥ï¼šcatã€tailã€moreã€less
æ”¹ï¼švimã€vi
```

è§£å‹

```
å‹ç¼©ï¼štarã€zip
è§£å‹ï¼šunzip
```


## æ–‡ä»¶åŠç›®å½•ç®¡ç†

### ls

> åˆ—å‡ºç›®å½•å’Œæ–‡ä»¶

```sh
$ ls
$ ls ï½     # æŒ‡å®šç›®å½•ä¸‹

# -a: æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…å«éšè—æ–‡ä»¶ï¼‰
# -l: æ˜¾ç¤ºæ–‡ä»¶å±æ€§åŠæƒé™ç­‰
# -S: æŒ‰æ–‡ä»¶å¤§å°æ’åºï¼Œæœ€å¤§çš„ä¼˜å…ˆ
# -t: æŒ‰æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ’åº
```

### cd
```sh
$ cd ï½/Documents
$ cd /usr/local
$ cd ..     # è¿”å›ä¸Šçº§ç›®å½•
```

### mkdir
> æ–°å»ºç›®å½•

```shell
$ mkdir cpp-learn
$ mkdir -p cpp-learn/docs     # -p: åˆ›å»ºå¤šçº§ç›®å½•
```

### rmdir

> åˆ é™¤ç›®å½•

```shell
$ rmdir test
$ rmdir -p d1/d2/d3
# -p åˆ é™¤å¤šçº§ç›®å½•(æ¯å±‚ç›®å½•éƒ½éœ€å†™å‡ºä¸å¯å°‘ï¼ä¸æ¨èä½¿ç”¨)
# -v â€“ åˆ é™¤ç›®å½•æ—¶çš„å†—ä½™è¾“å‡º

# rmdir åªèƒ½åˆ é™¤ç©ºç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ rm å‘½ä»¤æ¥åˆ é™¤éç©ºç›®å½•
$ rm -rf d              # rm åˆ é™¤å¤šçº§ç›®å½•(æ¨èä½¿ç”¨)
```

#### rm

> åˆ é™¤æ–‡ä»¶åŠç›®å½•

::: tip
`-i`: è¯¢é—®ç¡®è®¤æ˜¯å¦åˆ é™¤

`-f`: å¼ºåˆ¶åˆ é™¤, å¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶, ä¸ä¼šå‡ºç°è­¦å‘Šä¿¡æ¯

`-r`: é€’å½’åˆ é™¤
:::

:::danger
linux æ²¡æœ‰å›æ”¶æœŸï¼Œä¸€æ—¦åˆ é™¤éå¸¸éš¾æ¢å¤ï¼Œè¯·è°¨æ…æ“ä½œ
:::

```sh
# åˆ é™¤æ–‡ä»¶
rm <filename>
rm -i file.txt  # ç¡®è®¤æ˜¯å¦åˆ é™¤
rm -f file.txt  # å¼ºåˆ¶åˆ é™¤

# åˆ é™¤ç›®å½•
rm -r <foldername>
rm -rf ...      # é€’å½’åˆ é™¤æ–‡ä»¶å¤¹(è‘—åæ“ä½œ)
```

#### mv

> ç§»åŠ¨(é‡å‘½å)æ–‡ä»¶/ç›®å½•

```sh
# ç§»åŠ¨
mv style.css ~/Downloads
# é‡å‘½å(å½“ç›®å½•/æ–‡ä»¶ä¸å­˜åœ¨æ—¶)
mv test.css style.css
```

### æ–‡ä»¶å‘½ä»¤

| æ–‡ä»¶å†…å®¹æ˜¾ç¤ºå‘½ä»¤ | è¯¦æƒ…                                     |
| ---------------- | ---------------------------------------- |
| cat              | æ˜¾ç¤ºæ–‡ä»¶å†…å®¹, ä»ç¬¬ä¸€è¡Œå¼€å§‹               |
| nl               | æ˜¾ç¤ºæ–‡ä»¶å†…å®¹, ä»ç¬¬ä¸€è¡Œå¼€å§‹, é¢å¤–è¾“å‡ºè¡Œå· |
| head             | æ˜¾ç¤ºæ–‡ä»¶å‰ n è¡Œå†…å®¹, é»˜è®¤å‰ 10 è¡Œ        |
| tail             | æ˜¾ç¤ºæ–‡ä»¶å n è¡Œå†…å®¹, é»˜è®¤å 10 è¡Œ        |
| more             | åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹                         |
| less             | åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹, åŠŸèƒ½æ›´å¤š, é€‚åˆäºå¤§æ–‡ä»¶ |

#### touch

> æ–°å»ºç©ºæ–‡ä»¶

```sh
touch file.sh
```

#### cat

> æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œé€‚åˆäºå°æ–‡ä»¶, ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹

```sh
cat file.txt
```

#### nl

> æ˜¾ç¤ºè¡Œå·

```shell
$ nl style.css
# å¦‚æœæœ‰ç©ºè¡Œ, ä¹Ÿåˆ—å‡ºè¡Œå·
$ nl -ba style.css
```

#### head

> æ˜¾ç¤ºæ–‡ä»¶çš„å¼€å¤´å‡ è¡Œ, é»˜è®¤æ˜¾ç¤ºå‰ 10 è¡Œ

```sh
# é»˜è®¤æ˜¾ç¤ºå‰10è¡Œ
head file.txt
# æ˜¾ç¤ºå¼€å¤´20è¡Œ
head -n 20 file.txt
```

#### tail

> æ˜¾ç¤ºæ–‡ä»¶çš„ç»“å°¾å‡ è¡Œ(é»˜è®¤å 10 è¡Œ)

```sh
# é»˜è®¤æ˜¾ç¤ºæœ€å10è¡Œ
tail file.txt
# æ˜¾ç¤ºæœ€åçš„20è¡Œ
tail -n 20 file.txt

# æ˜¾ç¤ºæœ«å°¾2è¡Œ
tail [-n  2] file.txt
tail [-n -2] file.txt
# æ˜¾ç¤ºå¼€å¤´2è¡Œ
tail [-n +2] file.txt
# æ˜¾ç¤ºç¬¬10è¡Œ
tail -n +10 file.txt | head -1

# ä»ç¬¬18è¡Œå¼€å§‹æ˜¾ç¤º
tail -n +18 file.txt
```

#### more

> åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹

```sh
$ more style.css
```

- `spaceé”®`ï¼šä¸‹ä¸€é¡µ
- `bé”®`ï¼šä¸Šä¸€é¡µ
- `enteré”®`ï¼šä¸‹ä¸€è¡Œ
- `/å…³é”®è¯`ï¼šæœç´¢è¯¥å…³é”®è¯
- `qé”®`ï¼šé€€å‡º

#### less

> åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œé€‚åˆäºå¤§æ–‡ä»¶

```shell
less file.txt
```

**å¿«æ·é”®**

- `spaceé”®`ï¼šä¸‹ä¸€é¡µ
- `bé”®`ï¼šä¸Šä¸€é¡µ
- `enteré”®`ï¼šä¸‹ä¸€è¡Œ
- `yé”®`ï¼šä¸Šä¸€è¡Œ
- `qé”®`ï¼šé€€å‡º less åˆ†é¡µæŸ¥çœ‹æ¨¡å¼
- `=é”®`ï¼šæ˜¾ç¤º less é¡µé¢è¯¦æƒ…
- `hé”®`ï¼šæ˜¾ç¤º less å¸®åŠ©æ–‡æ¡£
- `/é”®`ï¼šæ˜¾ç¤º less æœç´¢æ¨¡å¼ï¼Œ`né”®`è·³è½¬

### vim

```sh
$ vim file.txt
```

- `ié”®`ï¼šç¼–è¾‘æ¨¡å¼
- `escé”®`ï¼šé€€å‡ºç¼–è¾‘æ¨¡å¼, å†æŒ‰`:wq` | `wq!` ä¿å­˜é€€å‡º vim
- `dd`ï¼šå‰ªåˆ‡å½“å‰è¡Œ
- `yy`ï¼šå¤åˆ¶å½“å‰è¡Œ
- `p`: ç²˜è´´
- `:q`ï¼šé€€å‡º vim
- `:wq`ï¼šä¿å­˜é€€å‡º vim
- `:wq!`ï¼šå¼ºåˆ¶ä¿å­˜é€€å‡º, é€‚åˆäºåªè¯»æƒé™æ–‡ä»¶
- `:set nu`ï¼šæ˜¾ç¤ºè¡Œå·
- `:set nonu`ï¼šå–æ¶ˆæ˜¾ç¤ºè¡Œå·

### ç£ç›˜ç®¡ç†

| linux å‘½ä»¤ | è¯¦æƒ…      |
| ---------- | --------- |
| df         | disk free |
| du         | disk used |

#### df

> ç£ç›˜å®¹é‡

```sh
# æ˜¾ç¤ºæ•´ä½“ç£ç›˜ä½¿ç”¨é‡
$ df
# æ˜“è¯»æ˜¾ç¤ºå®¹é‡æ ¼å¼
$ df -h
# æ˜¾ç¤ºæŒ‡å®šç›®å½•ä¸‹çš„å®¹é‡
$ df -h /etc
```

#### du

> æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹å„æ–‡ä»¶å†…å­˜å ç”¨

```sh
$ du -sh ./*

4.0K    ./README.md
4.0K    ./craco.config.js
4.0K    ./deploy.sh
4.0K    ./jsconfig.json
1.3G    ./node_modules
4.0K    ./package.json
 94M    ./public
608K    ./src
420K    ./yarn.lock
```

## Linuxå¸¸ç”¨å‘½ä»¤


```sh
# å¯»æ‰¾æ–‡ä»¶åå¹¶é‡å‘½åæ–‡ä»¶
$ find . -name 'å¾®ä¿¡æ”¯ä»˜è´¦*.csv' -exec mv {} bill.csv \;
```

```sh
# ç»Ÿè®¡æ–‡ä»¶è¡Œæ•°
$ wc -l README.md

# ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ‰€æœ‰goæ–‡ä»¶çš„è¡Œæ•°
$ find ./ -name "*.go" |xargs cat|wc -l
# è¿‡æ»¤ç©ºè¡Œ
$ find ./ -name "*.go" |xargs cat|grep -v ^$|wc -l
```

```sh
$ brew install colc
# ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ç±»å‹ä»£ç çš„è¡Œæ•°
$ cloc ./

â¡ï¸  ğŸ­  cloc ./
      32 text files.
      26 unique files.
       7 files ignored.

github.com/AlDanial/cloc v 1.92  T=0.02 s (1705.5 files/s, 53591.5 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Go                              16             69             61            333
XML                              7              0              0            278
Markdown                         1              9              0             55
INI                              1              0              0              6
YAML                             1              0              0              6
-------------------------------------------------------------------------------
SUM:                            26             78             61            678
-------------------------------------------------------------------------------
```

ç»Ÿè®¡webæœåŠ¡çš„ååé‡
```sh
$ brew install wrk
# Running 10s test @ http://127.0.0.1:8080/api/v1/covid-19 12 threads and 40 connections
$ wrk -t12 -c40 -d10s http://127.0.0.1:8080/api/v1/covid-19
```

- æ‰“å°æ–‡ä»¶çš„æœ€å 5 è¡Œ

```shell
# æ‰“å°æ–‡ä»¶çš„æœ€å5è¡Œ
tail -n 5 filename.txt
# tail -5 filename.txt
```

- ä»ç¬¬ 17 è¡Œå¼€å§‹æ‰“å°

```shell
sed '1,16d' filename.txt
```




## 2. FAQ å¸¸è§é—®é¢˜

#### 2.1 å®‰è£… VMware åæ‰“å¼€è™šæ‹Ÿæœºè“å±

```
å®‰è£…æ­£ç¡®çš„VMwareè™šæ‹Ÿæœºç‰ˆæœ¬å’Œé©±åŠ¨
```

#### 2.2 linux è™šæ‹Ÿæœºé¼ æ ‡æœ‰æ—¶éšè—?

```
windowä¸­è®¾ç½®â€œæ‰“å¼€é¼ æ ‡æŒ‡é’ˆè½¨è¿¹â€œï¼Œå¹¶è®¾ç½®ä¸ºâ€æœ€çŸ­"
```

#### 2.3 å¦‚ä½•æ‰“å¼€ linux ç»ˆç«¯ ï¼Ÿ

```
å³é”®èœå•"open Terminal"
```

#### 2.4 å¦‚ä½•å¤åˆ¶å†…å®¹è‡³è™šæ‹Ÿæœº

```
æ‹–åŠ¨windowæ–‡ä»¶è‡³è™šæ‹Ÿæœºæ–‡ä»¶å¤¹å†…å³å¯,é»˜è®¤å½“å‰ç”¨æˆ·å¯æ‰§è¡Œ
```
